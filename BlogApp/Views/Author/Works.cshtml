@{
    Layout = "_AuthorLayout";
}

@model BlogApp.Models.Author
@{
    ViewBag.Current = "Works";
}
<div style="display: flex; justify-content: center; align-items: flex-start; min-height: 560px; margin-top: 60px;">
    @Html.Partial("_AuthorSidebar")
    <div style="flex:1; min-width:480px; background: #fff; border-radius: 18px; box-shadow: 0 2px 16px rgba(50,80,120,0.11); padding: 40px 56px 38px 56px;">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:22px;">
            <div style="font-size:1.5rem;font-weight:700;letter-spacing:2px;">
                我的作品
            </div>
            <a href="/Novel/Create" style="display:inline-flex;align-items:center;padding:8px 24px;font-size:1.06rem;font-weight:700;background:linear-gradient(90deg,#41c2ff 12%,#47e1ff 92%);color:#fff;border:none;border-radius:7px;box-shadow:0 2px 10px #e7f5fd;transition:.17s;">
                <svg style="width:1.2em;height:1.2em;margin-right:5px;" viewBox="0 0 1024 1024" fill="currentColor"><path d="M480 480V160a32 32 0 1 1 64 0v320h320a32 32 0 1 1 0 64H544v320a32 32 0 1 1-64 0V544H160a32 32 0 1 1 0-64h320z" /></svg>
                新建作品
            </a>
        </div>

        @if (Model.Novels == null || !Model.Novels.Any())
        {
            <div style="margin:72px 0 38px 0;text-align:center;color:#aaa;font-size:1.2rem;">
                暂无作品，点击右上角新建作品吧～
            </div>
        }
        else
        {
            <div>
                @foreach (var novel in Model.Novels)
                {
                    <div style="background:#f9fbfd;border-radius:14px;box-shadow:0 2px 18px #f0f4fa;margin-bottom:30px;padding:24px 30px;display:flex;align-items:center;gap:36px;min-height:136px;">
                        <!-- 封面 -->
                        <div style="width:108px;height:144px;flex-shrink:0;background:#e8ebf4;border-radius:8px;overflow:hidden;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #e8eefa;">
                            <img src="@novel.CoverUrl" alt="@novel.Title" style="width:100%;height:100%;object-fit:cover;" />
                        </div>
                        <!-- 信息区 -->
                        <div style="flex:1;min-width:0;display:flex;flex-direction:column;gap:8px;">
                            <div style="display:flex;align-items:center;gap:14px;">
                                <div style="font-size:1.22rem;font-weight:700;line-height:1.5;">@novel.Title</div>
                                @* <span style="background:#f7faff;color:#37c3ff;font-size:.98em;padding:3px 10px;border-radius:7px;">连载中</span> *@
                            </div>
                            <div style="color:#7c8899;font-size:.99rem;margin-bottom:2px;line-height:1.6;word-break:break-all;">
                                @(!string.IsNullOrEmpty(novel.Description) ? novel.Description : "暂无简介")
                            </div>
                            <div style="margin-top:8px;">
                                <a href="/Chapter/List?novelId=@novel.Id" style="display:inline-block;padding:5px 23px;margin-right:13px;border-radius:7px;background:#e2f3ff;color:#197fd6;font-size:.98rem;font-weight:600;text-decoration:none;transition:.16s;border:none;">章节管理</a>
                                <a asp-controller="Chapter" asp-action="Write" asp-route-novelId="@novel.Id"
                                   style="display:inline-block;padding:5px 23px;border-radius:7px;background:#c2ffea;color:#13b47c;font-size:.98rem;font-weight:600;text-decoration:none;transition:.16s;border:none;">
                                    去写作
                                </a>

                                @* 可加更多操作：<a href="#" style="...">作品设置</a> *@
                            </div>
                        </div>
                    </div>
                }
            </div>
        }
    </div>
</div>
